<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />

    <!-- Title -->
    <title>ទំព័រដើម - ទេសចរណ៍កម្ពុជា</title>

    <!-- Meta Description (SEO) -->
    <meta
      name="description"
      content="ស្វែងយល់អំពីកម្ពុជា តាមរយៈព័ត៌មានទេសចរណ៍ កន្លែងប្រវត្តិសាស្រ្ត វប្បធម៌ ម្ហូបអាហារ និងសកម្មភាពជាច្រើន។"
    />

    <!-- Keywords -->
    <meta
      name="keywords"
      content="ទេសចរណ៍កម្ពុជា, Cambodia Tourism, Travel Cambodia, Angkor Wat, Siem Reap, Phnom Penh, Khmer Culture"
    />

    <!-- Author -->
    <meta name="author" content="Your Team or Organization Name" />

    <!-- Primary Thumbnail (Google & SEO Fallback) -->
    <meta
      name="image"
      content="https://deploy-final-project-q3sq.vercel.app/img/derLengMetaData.png"
    />

    <!-- Favicon -->
    <link
      rel="icon"
      href="./img/logo/logoFooter.png"
      sizes="32x32"
      type="image/png"
    />
    <link
      rel="icon"
      href="./img/logo/logoFooter.png"
      sizes="192x192"
      type="image/png"
    />
    <link rel="apple-touch-icon" href="./img/logo/logoFooter.png" />
    <link
      rel="shortcut icon"
      href="./img/logo/logoFooter.png"
      type="image/x-icon"
    />

    <!-- Open Graph (Facebook, LinkedIn, etc.) -->
    <meta property="og:title" content="ទេសចរណ៍កម្ពុជា - គោលដៅដ៏អស្ចារ្យ" />
    <meta
      property="og:description"
      content="ស្វែងយល់ពីប្រវត្តិសាស្រ្ត វប្បធម៌ និងកន្លែងទេសចរណ៍ដ៏ស្រស់ស្អាតនៅកម្ពុជា។"
    />
    <meta
      property="og:image"
      content="https://deploy-final-project-q3sq.vercel.app/img/derLengMetaData.png"
    />
    <meta
      property="og:url"
      content="https://deploy-final-project-q3sq.vercel.app/"
    />
    <meta property="og:type" content="website" />
    <meta property="og:locale" content="km_KH" />

    <!-- Twitter Card -->
    <meta name="twitter:card" content="summary_large_image" />
    <meta name="twitter:title" content="ទេសចរណ៍កម្ពុជា - គោលដៅដ៏អស្ចារ្យ" />
    <meta
      name="twitter:description"
      content="សូមមកស្វែងយល់ពីប្រវត្តិសាស្រ្ត និងវប្បធម៌កម្ពុជា។"
    />
    <meta
      name="twitter:image"
      content="https://deploy-final-project-q3sq.vercel.app/img/derLengMetaData.png"
    />
    <meta
      name="twitter:url"
      content="https://deploy-final-project-q3sq.vercel.app/"
    />

    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>ធ្វើបច្ចុប្បន្នភាពទីកន្លែង</title>
    <!-- <script src="https://cdn.tailwindcss.com"></script> -->
    <link
      rel="shortcut icon"
      href="../img/logo/logoFooter.png"
      type="image/x-icon"
    />
    <link rel="stylesheet" href="../src/output.css" />
    <script
      src="https://kit.fontawesome.com/5ce14b4205.js"
      crossorigin="anonymous"
    ></script>
    <script>
      tailwind.config = {
        theme: {
          extend: {
            colors: {
              primary: "#0A4536",
              secondary: "#FF914D",
              danger: "#DC2626",
            },
          },
        },
      };
    </script>
  </head>
  <body class="bg-background dark:bg-dark_background font-primary">
    <header class="bg-white dark:text-white w-full shadow sticky top-0 z-10">
      <nav
        class="lg:container mx-auto flex items-center justify-between px-4 py-2"
      >
        <a href="/index.html" class="Logo">
          <img
            class="h-auto max-md:w-[100px] md:w-[140px]"
            src="../img/logo/logoHeader.png"
            alt="Logo"
          />
        </a>
        <button
          id="menu-toggle"
          class="lg:hidden text-accent cursor-pointer self-center text-3xl text-gray-850 focus:outline-none"
        >
          <ion-icon name="menu" id="menu-icon"></ion-icon>
        </button>

        <div
          id="nav-links"
          class="hidden bg-white lg:flex lg:items-center lg:gap-8 absolute top-16 left-0 w-full lg:static lg:w-auto p-4 max-sm:p-5 lg:p-0 shadow-lg lg:shadow-none transition-all duration-300 ease-in-out"
        >
          <ul
            class="flex font-primary max-lg:flex-col gap-6 lg:gap-8 text-lg max-lg:items-start font-medium"
          >
            <li>
              <a
                href="/index.html"
                class="text-accent hover:text-secondary transition-colors"
                >ទំព័រដើម</a
              >
            </li>
            <li>
              <a
                href="about.html"
                class="text-accent hover:text-secondary transition-colors"
                >អំពីពួកយើង</a
              >
            </li>
            <li>
              <a
                href="desti.html"
                class="text-accent hover:text-secondary transition-colors"
                >គោលដៅ</a
              >
            </li>
          </ul>

          <div
            class="flex font-primary flex-col lg:flex-row gap-4 mt-6 lg:mt-0"
          >
            <button
              id="toggleTheme"
              type="button"
              class="relative inline-flex h-12 w-12 items-center justify-center rounded-full bg-primary dark:bg-blue-950 dark:hover:bg-blue-900 shadow-sm outline-none ring-0 transition-colors duration-500"
              aria-label="Toggle dark mode"
            >
              <!-- SUN (visible in light, hides in dark) -->
              <svg
                class="absolute h-7 w-7 text-white transition-all duration-300 ease-out opacity-100 scale-100 rotate-0 dark:opacity-0 dark:scale-75 dark:rotate-90"
                viewBox="0 -960 960 960"
                fill="currentColor"
                aria-hidden="true"
              >
                <path
                  d="M440-800v-120h80v120h-80Zm0 760v-120h80v120h-80Zm360-400v-80h120v80H800Zm-760 0v-80h120v80H40Zm708-252-56-56 70-72 58 58-72 70ZM198-140l-58-58 72-70 56 56-70 72Zm564 0-70-72 56-56 72 70-58 58ZM212-692l-72-70 58-58 70 72-56 56Zm268 452q-100 0-170-70t-70-170q0-100 70-170t170-70q100 0 170 70t70 170q0 100-70 170t-170 70Z"
                />
              </svg>

              <!-- MOON (hidden in light, shows in dark) -->
              <svg
                class="absolute h-7 w-7 text-white transition-all duration-300 ease-out opacity-0 scale-75 rotate-90 dark:opacity-100 dark:scale-100 dark:rotate-0"
                viewBox="0 -960 960 960"
                fill="currentColor"
                aria-hidden="true"
              >
                <path
                  d="M484-80q-84 0-157.5-32t-128-86.5Q144-253 112-326.5T80-484q0-146 93-257.5T410-880q-18 99 11 193.5T521-521q71 71 165.5 100T880-410q-26 144-138 237T484-80Z"
                />
              </svg>
            </button>

            <button
              class="group relative w-fit inline-flex h-12 items-center justify-center overflow-hidden rounded-[10px] border border-neutral-200 cursor-pointer bg-primary dark:bg-blue-950 px-[22px] font-medium text-white transition-all active:translate-y-[2px] active:shadow-none"
              href="../html/loginnnn.html"
            >
              <a href="../html/loginnnn.html">ចុះឈ្មោះ</a>
            </button>

            <button
              id="dropdownDelayButton"
              data-dropdown-toggle="dropdownDelay"
              data-dropdown-delay="500"
              class="border-neutral-200 h-12 w-fit bg-primary text-white cursor-pointer focus:ring-4 focus:outline-none font-medium rounded-lg text-sm px-5 text-center inline-flex items-center dark:bg-blue-950 dark:hover:bg-blue-900"
              type="button"
            >
              ផ្សេងៗ
              <svg
                class="w-2.5 h-2.5 ms-3"
                aria-hidden="true"
                xmlns="http://www.w3.org/2000/svg"
                fill="none"
                viewBox="0 0 10 6"
              >
                <path
                  stroke="currentColor"
                  stroke-linecap="round"
                  stroke-linejoin="round"
                  stroke-width="2"
                  d="m1 1 4 4 4-4"
                />
              </svg>
            </button>
            <!-- Dropdown menu -->
            <div
              id="dropdownDelay"
              class="z-10 hidden bg-white divide-y divide-gray-100 rounded-lg shadow-sm w-44 dark:bg-blue-950"
            >
              <ul
                class="py-2 rounded-lg text-sm text-white bg-primary dark:bg-blue-950"
                aria-labelledby="dropdownDelayButton"
              >
                <li>
                  <a
                    href="../html/post.html"
                    class="block px-4 py-2 hover:bg-gray-100 hover:text-gray-600 dark:hover:bg-gray-600 dark:hover:text-white"
                    >បន្ថែមទីកន្លែង</a
                  >
                </li>
                <li>
                  <a
                    href="../html/update.html"
                    class="block px-4 py-2 hover:bg-gray-100 hover:text-gray-600 dark:hover:bg-gray-600 dark:hover:text-white"
                    >ធ្វើបច្ចុប្បន្នភាពទីកន្លែង</a
                  >
                </li>
                <li>
                  <a
                    href="../html/delete.html"
                    class="block px-4 py-2 hover:bg-gray-100 hover:text-gray-600 dark:hover:bg-gray-600 dark:hover:text-white"
                    >លុបទីកន្លែង</a
                  >
                </li>
              </ul>
            </div>
          </div>
        </div>
      </nav>
    </header>

    <main>
      <section class="min-h-screen bg-gradient-to-br p-5 font-sans">
        <div
          class="container mx-auto flex justify-center py-5 gap-4 font-primary"
        >
          <button
            class="group relative w-fit inline-flex h-12 items-center dark:hover:bg-white hover:bg-white hover:text-primary dark:hover:text-dark_background justify-center overflow-hidden rounded-[10px] border border-neutral-200 cursor-pointer bg-primary dark:bg-blue-950 px-[22px] font-medium text-white transition-all active:translate-y-[2px] active:shadow-none"
          >
            <a href="delete.html">លុបទីកន្លែង</a>
          </button>
          <button
            class="group relative w-fit inline-flex h-12 items-center justify-center overflow-hidden rounded-[10px] border hover:bg-white hover:text-primary border-neutral-200 cursor-pointer bg-primary dark:bg-blue-950 px-[22px] font-medium text-white transition-all active:translate-y-[2px] active:shadow-none"
          >
            <a href="post.html">បន្ថែមទីកន្លែង</a>
          </button>
        </div>
        <div
          class="max-w-4xl font-primary mx-auto bg-white/95 rounded-2xl p-10 shadow-xl backdrop-blur-sm"
        >
          <h1
            class="text-center text-primary text-4xl font-extrabold mb-8 bg-clip-text bg-gradient-to-r from-primary to-green-500"
          >
            កែប្រែទីកន្លែង
          </h1>

          <!-- Search and Select Place -->
          <div class="mb-8">
            <h2 class="text-xl font-semibold text-gray-700 mb-4">
              ស្វែងរកកន្លែងដើម្បីកែប្រែ
            </h2>

            <!-- Search Input -->
            <div class="flex flex-col mb-4">
              <label for="searchInput" class="font-semibold text-gray-700 mb-2"
                >ស្វែងរកទីកន្លែង</label
              >
              <input
                type="text"
                id="searchInput"
                placeholder="វាយឈ្មោះកន្លែងដើម្បីស្វែងរក..."
                class="w-full p-4 border-2 border-gray-200 rounded-xl focus:outline-none focus:border-primary focus:shadow-md transition"
              />
            </div>

            <!-- Places List -->
            <div
              id="placesList"
              class="space-y-2 max-h-64 overflow-y-auto hidden"
            >
              <!-- Places will be loaded here -->
            </div>

            <!-- Load All Places Button -->
            <button
              id="loadPlacesBtn"
              class="w-full bg-primary text-white font-semibold py-3 rounded-xl hover:bg-primary/90 transition-all"
            >
              📋 បង្ហាញកន្លែងទាំងអស់
            </button>
          </div>

          <!-- Update Form -->
          <form id="updateForm" class="hidden space-y-6">
            <input type="hidden" id="placeUuid" name="placeUuid" />

            <div class="bg-green-50 p-4 rounded-xl mb-6">
              <h3 class="text-lg font-semibold text-green-800 mb-2">
                កែប្រែព័ត៌មានទីកន្លែង
              </h3>
              <p class="text-green-700 text-sm">
                បំពេញតែផ្នែកដែលអ្នកចង់កែប្រែប៉ុណ្ណោះ។
                ផ្នែកដទៃនឹងរក្សាទុកតម្លៃដើម។
              </p>
            </div>

            <div class="grid grid-cols-1 md:grid-cols-2 gap-6">
              <!-- Place Name -->
              <div class="flex flex-col">
                <label for="placeName" class="font-semibold text-gray-700 mb-2"
                  >ឈ្មោះទីកន្លែង *</label
                >
                <input
                  type="text"
                  id="placeName"
                  name="placeName"
                  required
                  class="w-full p-4 border-2 border-gray-200 rounded-xl focus:outline-none focus:border-primary focus:shadow-md transition"
                  placeholder="បញ្ចូលឈ្មោះទីកន្លែង"
                />
              </div>

              <!-- Category -->
              <div class="flex flex-col">
                <label for="categoryId" class="font-semibold text-gray-700 mb-2"
                  >ប្រភេទ *</label
                >
                <select
                  id="categoryId"
                  name="categoryId"
                  required
                  class="w-full p-4 border-2 border-gray-200 rounded-xl focus:outline-none focus:border-primary focus:shadow-md transition"
                >
                  <option value="">ជ្រើសរើសប្រភេទ</option>
                </select>
              </div>

              <!-- Entry Fee -->
              <div class="flex flex-col">
                <label for="entryFee" class="font-semibold text-gray-700 mb-2"
                  >តម្លៃសំបុត្រចូល (USD)</label
                >
                <input
                  type="number"
                  id="entryFee"
                  name="entryFee"
                  min="0"
                  step="0.01"
                  class="w-full p-4 border-2 border-gray-200 rounded-xl focus:outline-none focus:border-primary focus:shadow-md transition"
                  placeholder="0.00"
                />
              </div>

              <!-- Location -->
              <div class="flex flex-col">
                <label for="location" class="font-semibold text-gray-700 mb-2"
                  >ទីតាំង</label
                >
                <input
                  type="text"
                  id="location"
                  name="location"
                  class="w-full p-4 border-2 border-gray-200 rounded-xl focus:outline-none focus:border-primary focus:shadow-md transition"
                  placeholder="ខេត្ត, ស្រុក, ឃុំ"
                />
              </div>
            </div>

            <!-- Description -->
            <div class="flex flex-col">
              <label for="description" class="font-semibold text-gray-700 mb-2"
                >ពិពណ៌នា</label
              >
              <textarea
                id="description"
                name="description"
                placeholder="ពិពណ៌នាលម្អិតអំពីទីកន្លែងនេះ..."
                class="w-full p-4 border-2 border-gray-200 rounded-xl focus:outline-none focus:border-primary focus:shadow-md resize-vertical min-h-[120px]"
              ></textarea>
            </div>

            <!-- Open Hours -->
            <div class="flex flex-col">
              <label for="openHours" class="font-semibold text-gray-700 mb-2"
                >ម៉ោងបើក</label
              >
              <input
                type="text"
                id="openHours"
                name="openHours"
                class="w-full p-4 border-2 border-gray-200 rounded-xl focus:outline-none focus:border-primary focus:shadow-md transition"
                placeholder="ឧ. 8:00 AM - 5:00 PM"
              />
            </div>

            <!-- Coordinates -->
            <div class="grid grid-cols-1 md:grid-cols-2 gap-6">
              <div class="flex flex-col">
                <label for="latitude" class="font-semibold text-gray-700 mb-2"
                  >Latitude</label
                >
                <input
                  type="number"
                  id="latitude"
                  name="latitude"
                  step="any"
                  class="w-full p-4 border-2 border-gray-200 rounded-xl focus:outline-none focus:border-primary focus:shadow-md transition"
                  placeholder="11.5564"
                />
              </div>

              <div class="flex flex-col">
                <label for="longitude" class="font-semibold text-gray-700 mb-2"
                  >Longitude</label
                >
                <input
                  type="number"
                  id="longitude"
                  name="longitude"
                  step="any"
                  class="w-full p-4 border-2 border-gray-200 rounded-xl focus:outline-none focus:border-primary focus:shadow-md transition"
                  placeholder="104.9282"
                />
              </div>
            </div>

            <!-- Current Images Display -->
            <div id="currentImages" class="hidden">
              <h3 class="font-semibold text-gray-700 mb-3">
                រូបភាពបច្ចុប្បន្ន
              </h3>
              <div
                id="imagesList"
                class="grid grid-cols-2 md:grid-cols-4 gap-4 mb-4"
              >
                <!-- Current images will be displayed here -->
              </div>
            </div>

            <!-- New Images Upload -->
            <div class="flex flex-col">
              <label for="images" class="font-semibold text-gray-700 mb-2"
                >រូបភាពថ្មី (ជ្រើសរើសច្រើនរូបបាន)</label
              >
              <input
                type="file"
                id="images"
                name="images"
                multiple
                accept="image/*"
                class="w-full p-4 border-2 border-gray-200 rounded-xl focus:outline-none focus:border-primary focus:shadow-md transition file:mr-4 file:py-2 file:px-4 file:rounded-full file:border-0 file:text-sm file:font-semibold file:bg-primary file:text-white hover:file:bg-primary/90"
              />
              <p class="text-sm text-gray-500 mt-2">
                ជ្រើសរើសរូបភាពថ្មីដើម្បីជំនួសរូបភាពចាស់។
                អាចជ្រើសរើសច្រើនរូបភាពក្នុងពេលតែមួយ។
              </p>
            </div>

            <!-- Image Preview -->
            <div id="imagePreview" class="hidden">
              <h3 class="font-semibold text-gray-700 mb-3">
                មើលរូបភាពថ្មីជាមុន
              </h3>
              <div
                id="previewList"
                class="grid grid-cols-2 md:grid-cols-4 gap-4"
              >
                <!-- New image previews will be displayed here -->
              </div>
            </div>

            <!-- Action Buttons -->
            <div class="flex flex-col md:flex-row gap-4 pt-6">
              <button
                type="button"
                id="cancelBtn"
                class="flex-1 bg-gray-300 hover:bg-gray-400 text-gray-700 font-semibold py-4 rounded-xl transition-all"
              >
                បោះបង់
              </button>
              <button
                type="submit"
                id="updateBtn"
                class="flex-1 bg-[#0a4536] text-white font-semibold py-4 rounded-xl hover:shadow-lg transition-all"
              >
                រក្សាទុកការកែប្រែ
              </button>
            </div>
          </form>

          <!-- Status -->
          <div id="status" class="mt-5 p-4 rounded-lg hidden"></div>
        </div>
      </section>
    </main>

    <footer class="bg-white">
      <div
        class="container mx-auto px-4 py-8 grid grid-cols-1 sm:grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-8 text-left text-sm sm:text-base"
      >
        <div class="flex justify-center md:justify-start">
          <a class="" href="/index.html">
            <img
              src="../img/lofoFooter.png"
              alt="Logo 1"
              class="w-32 h-32 object-contain"
            />
          </a>
        </div>

        <div
          class="flex flex-col max-lg:mt-3 items-center md:items-start gap-5"
        >
          <h4 class="text-primary dark:text-blue-900 font-semibold text-lg">
            បណ្តាញសង្គម
          </h4>
          <div class="flex gap-4 text-primary dark:text-blue-900">
            <!-- Facebook -->
            <a href="">
              <button
                class="group relative inline-flex h-14 w-14 items-center justify-center rounded-full border border-neutral-200 bg-white transition-all duration-300 ease-in-out active:translate-y-[2px] active:shadow-none"
              >
                <i
                  class="fa-brands fa-facebook-f text-3xl text-primary dark:text-blue-900"
                ></i>
              </button>
            </a>

            <!-- TikTok -->
            <a
              class="cursor-pointer"
              href="https://www.tiktok.com/@derlengwithus?_t=ZS-8zEBbIsQAmm&_r=1"
            >
              <button
                class="group relative cursor-pointer inline-flex h-14 w-14 items-center justify-center rounded-full border border-neutral-200 bg-white transition-all duration-300 ease-in-out active:translate-y-[2px] active:shadow-none"
              >
                <i
                  class="fa-brands fa-tiktok text-3xl text-primary dark:text-blue-900"
                ></i>
              </button>
            </a>

            <!-- YouTube -->
            <a
              class="cursor-pointer"
              href="https://www.youtube.com/@DerLeng-withUs"
            >
              <button
                class="group relative cursor-pointer inline-flex h-14 w-14 items-center justify-center rounded-full border border-neutral-200 bg-white transition-all duration-300 ease-in-out active:translate-y-[2px] active:shadow-none"
              >
                <i
                  class="fa-brands fa-youtube text-3xl text-primary dark:text-blue-900"
                ></i>
              </button>
            </a>
          </div>
        </div>

        <div class="flex flex-col gap-5 items-center md:items-start">
          <h4 class="text-primary dark:text-blue-900 font-semibold text-lg">
            តំណភ្ជាប់រហ័ស
          </h4>
          <a
            href="/index.html"
            class="hover:text-teal-700 text-accent text-[18px] dark:text-accent dark:hover:text-blue-600 transition"
            >ទំព័រដើម</a
          >
          <a
            href="about.html"
            class="hover:text-teal-700 text-accent text-[18px] dark:text-accent dark:hover:text-blue-600 transition"
            >អំពីពួកយើង</a
          >
          <a
            href="desti.html"
            class="hover:text-teal-700 text-accent text-[18px] dark:text-accent dark:hover:text-blue-600 transition"
            >គោលដៅ</a
          >
        </div>

        <div class="flex flex-col gap-5 items-center md:items-start">
          <h4
            class="text-primary dark:text-blue-900 font-semibold text-lg max-sm:text-center"
          >
            ឧបត្ថម្ភដោយ
          </h4>
          <!-- <p class="dark:text-accent">
            Institute of Science and Technology Advanced Development (ISTAD)
          </p> -->
          <a>
            <img
              src="../img/logo/istad-logo-2024 (3).png"
              alt="Logo 1"
              class="w-50 object-contain"
            />
          </a>
        </div>
      </div>
    </footer>

    <style>
      .place-item {
        transition: all 0.2s ease;
      }
      .place-item:hover {
        transform: translateY(-1px);
        box-shadow: 0 4px 12px rgba(0, 0, 0, 0.1);
      }
      .place-item.selected {
        border-color: #0a4536;
        background-color: #f0fdf4;
      }
      .loading-spinner {
        width: 20px;
        height: 20px;
        border: 2px solid #f3f3f3;
        border-top: 2px solid #0a4536;
        border-radius: 50%;
        animation: spin 1s linear infinite;
        display: inline-block;
        margin-right: 8px;
      }
      @keyframes spin {
        0% {
          transform: rotate(0deg);
        }
        100% {
          transform: rotate(360deg);
        }
      }
      .image-preview {
        position: relative;
        overflow: hidden;
        border-radius: 8px;
        aspect-ratio: 1;
      }
      .image-preview img {
        width: 100%;
        height: 100%;
        object-fit: cover;
      }
      .remove-image-btn {
        position: absolute;
        top: 4px;
        right: 4px;
        background: rgba(220, 38, 38, 0.9);
        color: white;
        border: none;
        border-radius: 50%;
        width: 24px;
        height: 24px;
        cursor: pointer;
        font-size: 12px;
        display: flex;
        align-items: center;
        justify-content: center;
      }
    </style>

    <script src="../js/update.js"></script>
    <script
      type="module"
      src="https://unpkg.com/ionicons@7.1.0/dist/ionicons/ionicons.esm.js"
    ></script>
    <script
      nomodule
      src="https://unpkg.com/ionicons@7.1.0/dist/ionicons/ionicons.js"
    ></script>
    <script src="https://unpkg.com/aos@2.3.1/dist/aos.js"></script>

    <script src="../js/script.js"></script>
    <script src="../js/theme.js"></script>
    <script src="https://cdn.jsdelivr.net/npm/flowbite@3.1.2/dist/flowbite.min.js"></script>
  </body>
</html>
