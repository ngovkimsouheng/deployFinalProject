<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>ចូលគណនី</title>
    <link
      href="https://unpkg.com/boxicons@2.1.4/css/boxicons.min.css"
      rel="stylesheet"
    />
    <link
      rel="stylesheet"
      href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.6.0/css/all.min.css"
    />
    <style>
      * {
        margin: 0;
        padding: 0;
        box-sizing: border-box;
      }

      @import url("https://fonts.googleapis.com/css2?family=Kantumruy+Pro:wght@300;400;500;600;700&display=swap");

      body::selection {
        color: rgb(255, 255, 255);
        background-color: rgb(255, 205, 112);
      }

      body {
        display: flex;
        justify-content: center;
        align-items: center;
        min-height: 100vh;
        background: url(../images/login/bg.jpg);
        background-size: cover;
        background-repeat: no-repeat;
        font-family: "Kantumruy Pro", sans-serif;
      }

      .container {
        position: relative;
        width: 850px;
        height: 550px;
        border-radius: 30px;
        box-shadow: 0 0 30px rgba(0, 0, 0, 0.5);
        margin: 20px;
        overflow: hidden;
        background: white;
      }

      /* Hide container when logged in */
      .container.logged-in {
        display: none;
      }

      .form-box {
        position: absolute;
        right: 0;
        width: 50%;
        height: 100%;
        background: white;
        display: flex;
        align-items: center;
        color: black;
        text-align: center;
        padding: 40px;
        z-index: 1;
        transition: 0.6s ease-in-out 1.2s, visibility 0s 1s;
      }

      .container.active .form-box {
        right: 50%;
      }

      .form-box.register {
        visibility: hidden;
      }

      .container.active .form-box.register {
        visibility: visible;
      }

      form {
        width: 100%;
      }

      .container h1 {
        font-size: 36px;
        margin: -20px 0;
        font-family: "Kantumruy Pro", sans-serif;
        font-weight: 600;
        padding-bottom: 20px;
      }

      .input-box {
        position: relative;
        margin: 10px 0;
      }

      .input-box input {
        width: 100%;
        padding: 10px;
        background: rgb(240, 240, 240);
        border-radius: 8px;
        border: none;
        outline: none;
        font-size: 16px;
        font-family: "Kantumruy Pro", sans-serif;
        color: black;
        font-weight: 500;
      }

      .input-box input::placeholder {
        color: gray;
        font-weight: 400;
        font-family: "Kantumruy Pro", sans-serif;
      }

      .error-message {
        color: red;
        text-align: start;
        padding-left: 10px;
        opacity: 0;
        transition: opacity 0.3s ease;
      }

      .error-message.show {
        opacity: 1;
      }

      .success-message {
        color: rgb(5, 237, 5);
        padding-block: 10px;
        opacity: 0;
        transition: opacity 0.3s ease;
      }

      .success-message.show {
        opacity: 1;
      }

      .input-box i {
        position: absolute;
        right: 20px;
        top: 50%;
        transform: translateY(-50%);
        font-size: 20px;
        color: gray;
        display: none;
      }

      .forgot-link {
        margin: -15px 0 15px;
      }

      .forgot-link a {
        font-size: 14.5px;
        color: orange;
        text-decoration: none;
        transition: color 0.4s ease-in-out;
        font-family: "Kantumruy Pro", sans-serif;
      }

      /* Underline From Center */
      .forgot-link a {
        display: inline-block;
        vertical-align: middle;
        position: relative;
        overflow: hidden;
      }

      .forgot-link a:before {
        content: "";
        position: absolute;
        z-index: -1;
        left: 51%;
        right: 51%;
        bottom: 0;
        background: orange;
        height: 2px;
        transition: left 0.3s ease-out, right 0.3s ease-out;
      }

      .forgot-link a:hover:before,
      .forgot-link a:focus:before,
      .forgot-link a:active:before {
        left: 0;
        right: 0;
      }

      .btn {
        width: 100%;
        height: 48px;
        border-radius: 8px;
        box-shadow: 0 0 10px rgba(0, 0, 0, 0.1);
        border: none;
        cursor: pointer;
        font-size: 16px;
        color: white;
        background: orange;
        font-weight: 600;
        font-family: "Kantumruy Pro", sans-serif;
        transition: 0.4s ease-in-out;
      }

      .btn:hover {
        background: #ff7f17;
      }

      .btn:disabled {
        opacity: 0.7;
        cursor: not-allowed;
      }

      .loading {
        display: inline-block;
        width: 16px;
        height: 16px;
        border: 2px solid #ffffff;
        border-radius: 50%;
        border-top-color: transparent;
        animation: spin 1s ease-in-out infinite;
        margin-right: 8px;
      }

      @keyframes spin {
        to { transform: rotate(360deg); }
      }

      .btn a {
        color: white;
        text-decoration: none;
      }

      .container p {
        font-size: 14.5px;
        margin: 15px 0;
        font-family: "Kantumruy Pro", sans-serif;
      }

      .social-icons ul {
        list-style-type: none;
        display: flex;
        justify-content: center;
      }

      .social-icons a {
        font-family: "Kantumruy Pro", sans-serif;
        width: 50px;
        height: 50px;
        display: inline-flex;
        justify-content: center;
        align-items: center;
        padding: 10px;
        border-radius: 8px;
        color: orange;
        text-decoration: none;
        font-size: 24px;
        margin: 0 8px;
        border: 2px solid gainsboro;
        transition: 0.4s ease-in-out;
      }

      .social-icons a:hover {
        background: orange;
        color: white;
        border-radius: 50%;
      }

      .toggle-box {
        position: absolute;
        width: 100%;
        height: 100%;
      }

      .toggle-box::before {
        content: "";
        position: absolute;
        left: -250%;
        width: 300%;
        height: 100%;
        background: orange;
        transition: 1.8s ease-in-out;
        border-radius: 150px;
        z-index: 2;
      }

      .container.active .toggle-box::before {
        left: 50%;
      }

      .toggle-panel {
        position: absolute;
        width: 50%;
        height: 100%;
        color: white;
        display: flex;
        justify-content: center;
        align-items: center;
        flex-direction: column;
        z-index: 2;
        transition: 0.6s ease-in-out;
        font-family: "Kantumruy Pro", sans-serif;
      }

      .toggle-panel.toggle-left {
        left: 0;
        transition-delay: 1.2s;
      }

      .container.active .toggle-panel.toggle-left {
        left: -50%;
        transition-delay: 0.6s;
      }

      .toggle-panel.toggle-right {
        right: -50%;
        transition-delay: 0.6s;
      }

      .container.active .toggle-panel.toggle-right {
        right: 0;
        transition-delay: 1.2s;
      }

      .toggle-panel p {
        margin-bottom: 20px;
      }

      .toggle-panel .btn {
        width: 160px;
        height: 40px;
        background: transparent;
        border: 2px solid white;
        box-shadow: none;
        font-family: "Kantumruy Pro", sans-serif;
      }

      /* Sweep To Right */
      .toggle-panel .btn {
        display: inline-block;
        vertical-align: middle;
        position: relative;
        transition: color 0.4s;
      }

      .toggle-panel .btn:before {
        content: "";
        position: absolute;
        z-index: -1;
        top: 0;
        left: 0;
        right: 0;
        bottom: 0;
        border-radius: 5px;
        background: white;
        transform: scaleX(0);
        transform-origin: 0 50%;
        transition: transform 0.4s ease-out;
      }

      .toggle-panel .btn:hover,
      .toggle-panel .btn:focus,
      .toggle-panel .btn:active {
        color: orange;
      }

      .toggle-panel .btn:hover:before,
      .toggle-panel .btn:focus:before,
      .toggle-panel .btn:active:before {
        transform: scaleX(1);
      }

      /* User Profile Styles */
      .user-profile {
        display: none;
        position: fixed;
        top: 50%;
        left: 50%;
        transform: translate(-50%, -50%);
        background: white;
        border-radius: 30px;
        box-shadow: 0 0 30px rgba(0, 0, 0, 0.5);
        padding: 40px;
        text-align: center;
        min-width: 400px;
        z-index: 9999;
        font-family: "Kantumruy Pro", sans-serif;
      }

      .user-profile.show {
        display: block;
        animation: slideIn 0.5s ease-out;
      }

      @keyframes slideIn {
        from {
          opacity: 0;
          transform: translate(-50%, -50%) scale(0.9);
        }
        to {
          opacity: 1;
          transform: translate(-50%, -50%) scale(1);
        }
      }

      .profile-avatar {
        width: 80px;
        height: 80px;
        border-radius: 50%;
        background: orange;
        display: flex;
        align-items: center;
        justify-content: center;
        color: white;
        font-size: 32px;
        font-weight: bold;
        margin: 0 auto 20px auto;
      }

      .profile-name {
        font-size: 24px;
        font-weight: 600;
        color: black;
        margin-bottom: 10px;
        font-family: "Kantumruy Pro", sans-serif;
      }

      .profile-username {
        font-size: 16px;
        color: gray;
        margin-bottom: 20px;
        font-family: "Kantumruy Pro", sans-serif;
      }

      .profile-details {
        border-top: 1px solid rgb(240, 240, 240);
        padding-top: 20px;
        margin-top: 20px;
      }

      .profile-item {
        display: flex;
        align-items: center;
        justify-content: center;
        margin-bottom: 15px;
        font-size: 14px;
        color: black;
        font-family: "Kantumruy Pro", sans-serif;
      }

      .profile-item i {
        width: 20px;
        color: orange;
        margin-right: 10px;
        font-size: 16px;
      }

      .logout-btn {
        background: orange;
        color: white;
        border: none;
        padding: 12px 24px;
        border-radius: 8px;
        cursor: pointer;
        font-size: 16px;
        margin-top: 20px;
        font-family: "Kantumruy Pro", sans-serif;
        font-weight: 600;
        transition: 0.4s ease-in-out;
      }

      .logout-btn:hover {
        background: #ff7f17;
      }

      @media screen and (max-width: 650px) {
        .container {
          height: calc(100vh - 40px);
        }

        .form-box {
          bottom: 0;
          width: 100%;
          height: 70%;
        }

        .container.active .form-box.login {
          right: 0;
          bottom: 30%;
        }

        .container.active .form-box.form-box.register {
          right: 0;
          bottom: 30%;
        }

        .toggle-box::before {
          left: 0;
          width: 100%;
          height: 300%;
          top: -270%;
          border-radius: 20vw;
        }

        .container.active .toggle-box::before {
          left: 0;
          top: 70%;
        }

        .toggle-panel {
          width: 100%;
          height: 30%;
        }

        .toggle-panel.toggle-left {
          top: 0;
        }

        .container.active .toggle-panel.toggle-left {
          top: -30%;
          left: 0;
        }

        .toggle-panel.toggle-right {
          bottom: -30%;
          right: 0;
        }

        .container.active .toggle-panel.toggle-right {
          bottom: 0;
        }

        .user-profile {
          min-width: 300px;
          padding: 30px;
        }
      }

      @media screen and (max-width: 400px) {
        .form-box {
          padding: 20px;
        }

        .toggle-panel h1 {
          font-size: 30px;
        }

        .user-profile {
          min-width: 280px;
          padding: 25px;
        }
      }
    </style>
  </head>
  <body>
    <!-- Login/Register Container -->
    <section class="container" id="authContainer">
      <div class="form-box login">
        <form id="loginForm">
          <h1>ចូលគណនី</h1>
          <div class="input-box">
            <input
              type="text"
              id="loginUsername"
              placeholder="Username"
              required
            />
            <i class="fa-solid fa-user"></i>
          </div>
          <div class="error-message" id="loginUsernameError"></div>
          <div class="input-box">
            <input
              type="password"
              id="loginPassword"
              placeholder="Password"
              required
            />
            <i class="fa-solid fa-lock"></i>
          </div>
          <div class="error-message" id="loginPasswordError"></div>
          <button type="submit" class="btn" id="loginBtn">ចូលគណនី</button>
          <div id="loginSuccess" class="success-message"></div>
        </form>
      </div>

      <div class="form-box register">
        <form id="registerForm">
          <h1>បង្កើតគណនី</h1>
          <div class="input-box">
            <input
              type="text"
              id="registerUsername"
              placeholder="Username"
              required
            />
            <i class="fa-solid fa-user"></i>
          </div>
          <div class="error-message" id="registerUsernameError"></div>
          <div class="input-box">
            <input
              type="text"
              id="registerFirstname"
              placeholder="Firstname"
              required
            />
            <i class="fa-solid fa-user"></i>
          </div>
          <div class="input-box">
            <input
              type="text"
              id="registerLastname"
              placeholder="Lastname"
              required
            />
            <i class="fa-solid fa-user"></i>
          </div>
          <div class="input-box">
            <input
              type="email"
              id="registerEmail"
              placeholder="Email"
              required
            />
            <i class="fa-solid fa-envelope"></i>
          </div>
          <div class="error-message" id="registerEmailError"></div>
          <div class="input-box">
            <input
              type="password"
              id="registerPassword"
              placeholder="Password"
              required
            />
            <i class="fa-solid fa-lock"></i>
          </div>
          <div class="error-message" id="registerPasswordError"></div>
          <button type="submit" class="btn" id="registerBtn">Register</button>
          <div id="registerSuccess" class="success-message"></div>
        </form>
      </div>

      <div class="toggle-box">
        <div class="toggle-panel toggle-left">
          <h1>Hello, Welcome</h1>
          <p>Don't have an account?</p>
          <button class="btn register-btn">Register</button>
        </div>
        <div class="toggle-panel toggle-right">
          <h1>Welcome back</h1>
          <p>Already have an account?</p>
          <button class="btn login-btn">Login</button>
        </div>
      </div>
    </section>

    <!-- User Profile Display -->
    <div class="user-profile" id="userProfile">
      <div class="profile-avatar" id="profileAvatar">
        <!-- User initials will be displayed here -->
      </div>
      <div class="profile-name" id="profileName">User Name</div>
      <div class="profile-username" id="profileUsername">@username</div>
      
      <div class="profile-details">
        <div class="profile-item">
          <i class="fa-solid fa-envelope"></i>
          <span id="profileEmail">user@example.com</span>
        </div>
        <div class="profile-item">
          <i class="fa-solid fa-clock"></i>
          <span id="profileLoginTime">Just now</span>
        </div>
      </div>
      
      <button class="logout-btn" id="logoutBtn">
        <i class="fa-solid fa-sign-out-alt"></i> Logout
      </button>
    </div>

    <script>
      // API URLs
      const LOGIN_API = "https://tos-der.sokpheng.com/api/v1/auth/login";
      const REGISTER_API = "https://tos-der.sokpheng.com/api/v1/auth/register";

      // ================ Form switching =======================
      const container = document.querySelector(".container");
      const registerBtn = document.querySelector(".register-btn");
      const loginBtn = document.querySelector(".login-btn");

      registerBtn.addEventListener("click", () => {
        container.classList.add("active");
        clearMessages();
      });

      loginBtn.addEventListener("click", () => {
        container.classList.remove("active");
        clearMessages();
      });

      // ================ Utility Functions =======================
      function validateField(field, errorElement, validationFn, errorMessage) {
        const value = field.value.trim();
        const isValid = validationFn(value);

        if (!isValid && errorElement) {
          field.classList.add("error");
          errorElement.textContent = errorMessage;
          errorElement.classList.add("show");
        } else if (errorElement) {
          field.classList.remove("error");
          errorElement.textContent = "";
          errorElement.classList.remove("show");
        }

        return isValid;
      }

      function isValidEmail(email) {
        const emailRegex = /^[^\s@]+@[^\s@]+\.[^\s@]+$/;
        return emailRegex.test(email);
      }

      function isValidPassword(password) {
        return password.length >= 6;
      }

      function isValidUsername(username) {
        return username.length >= 3;
      }

      function clearMessages() {
        document.querySelectorAll(".error-message").forEach((msg) => {
          msg.classList.remove("show");
          msg.textContent = "";
        });
        document.querySelectorAll(".success-message").forEach((msg) => {
          msg.classList.remove("show");
          msg.textContent = "";
        });
        document.querySelectorAll("input").forEach((input) => {
          input.classList.remove("error");
        });
      }

      function showSuccess(elementId, message) {
        const successElement = document.getElementById(elementId);
        if (successElement) {
          successElement.textContent = message;
          successElement.classList.add("show");
        }
      }

      function showError(elementId, message) {
        const errorElement = document.getElementById(elementId);
        if (errorElement) {
          errorElement.textContent = message;
          errorElement.classList.add("show");
        }
      }

      function setLoading(buttonId, isLoading) {
        const button = document.getElementById(buttonId);
        if (isLoading) {
          button.disabled = true;
          button.innerHTML = '<span class="loading"></span>Processing...';
        } else {
          button.disabled = false;
          if (buttonId === "loginBtn") {
            button.innerHTML = "ចូលគណនី";
          } else {
            button.innerHTML = "Register";
          }
        }
      }

      // ================ In-Memory Storage =======================
      let userData = null;
      let isLoggedIn = false;

      function saveUserData(data) {
        userData = data;
        isLoggedIn = true;
        updateUIAfterLogin();
      }

      function getUserData() {
        return userData;
      }

      function clearUserData() {
        userData = null;
        isLoggedIn = false;
        updateUIAfterLogout();
      }

      // ================ UI Update Functions =======================
      function updateUIAfterLogin() {
        const authContainer = document.getElementById("authContainer");
        const userProfile = document.getElementById("userProfile");

        // Hide login/register forms
        authContainer.classList.add("logged-in");

        // Show user profile
        if (userData) {
          updateProfileDisplay();
          userProfile.classList.add("show");
        }
      }

      function updateUIAfterLogout() {
        const authContainer = document.getElementById("authContainer");
        const userProfile = document.getElementById("userProfile");

        // Show login/register forms
        authContainer.classList.remove("logged-in");

        // Hide user profile
        userProfile.classList.remove("show");

        // Clear forms
        document.getElementById("loginForm").reset();
        clearMessages();
      }

      function updateProfileDisplay() {
        if (!userData) return;

        // Update profile avatar (first letter of username or firstname)
        const profileAvatar = document.getElementById("profileAvatar");
        const firstLetter = (userData.firstname || userData.username || "U").charAt(0).toUpperCase();
        profileAvatar.textContent = firstLetter;

        // Update profile name
        const profileName = document.getElementById("profileName");
        const fullName = userData.firstname && userData.lastname 
          ? `${userData.firstname} ${userData.lastname}` 
          : userData.username || "User";
        profileName.textContent = fullName;

        // Update username
        const profileUsername = document.getElementById("profileUsername");
        profileUsername.textContent = `@${userData.username || "user"}`;

        // Update email
        const profileEmail = document.getElementById("profileEmail");
        profileEmail.textContent = userData.email || "No email provided";

        // Update login time
        const profileLoginTime = document.getElementById("profileLoginTime");
        const now = new Date();
        profileLoginTime.textContent = `Logged in at ${now.toLocaleTimeString()}`;
      }

      // ================ API Functions =======================
      async function loginUser(username, password) {
        try {
          console.log("Attempting login with:", { username, password: "***" });

          const response = await fetch(LOGIN_API, {
            method: "POST",
            headers: {
              "Content-Type": "application/json",
              Accept: "application/json",
            },
            body: JSON.stringify({
              username: username,
              password: password,
            }),
          });

          console.log("Login response status:", response.status);

          let data;
          try {
            data = await response.json();
          } catch (jsonError) {
            console.error("Error parsing JSON:", jsonError);
            return {
              success: false,
              message: "Invalid server response",
            };
          }

          console.log("Login response data:", data);

          if (response.ok && data) {
            return { success: true, data: data };
          } else {
            return {
              success: false,
              message:
                data?.message ||
                data?.error ||
                "Login failed. Please check your credentials.",
            };
          }
        } catch (error) {
          console.error("Login error:", error);
          return {
            success: false,
            message: "Network error. Please check your connection and try again.",
          };
        }
      }

      async function registerUser(username, firstname, lastname, email, password) {
        try {
          console.log("Attempting registration with:", {
            username,
            firstname,
            lastname,
            email,
            password: "***",
          });

          const response = await fetch(REGISTER_API, {
            method: "POST",
            headers: {
              "Content-Type": "application/json",
              Accept: "application/json",
            },
            body: JSON.stringify({
              username: username,
              firstname: firstname,
              lastname: lastname,
              email: email,
              password: password,
            }),
          });

          console.log("Registration response status:", response.status);

          let data;
          try {
            data = await response.json();
          } catch (jsonError) {
            console.error("Error parsing JSON:", jsonError);
            return {
              success: false,
              message: "Invalid server response",
            };
          }

          console.log("Registration response data:", data);

          if (response.ok && data) {
            return { success: true, data: data };
          } else {
            return {
              success: false,
              message:
                data?.message ||
                data?.error ||
                "Registration failed. Please try again.",
            };
          }
        } catch (error) {
          console.error("Registration error:", error);
          return {
            success: false,
            message: "Network error. Please check your connection and try again.",
          };
        }
      }

      // ================ Login form handling =======================
      document.getElementById("loginForm").addEventListener("submit", async function (e) {
        e.preventDefault();

        const username = document.getElementById("loginUsername");
        const password = document.getElementById("loginPassword");
        const usernameError = document.getElementById("loginUsernameError");
        const passwordError = document.getElementById("loginPasswordError");

        // Clear previous messages
        clearMessages();

        let isValid = true;

        // Validate username
        if (!validateField(username, usernameError, isValidUsername, "Username must be at least 3 characters long")) {
          isValid = false;
        }

        // Validate password
        if (!validateField(password, passwordError, isValidPassword, "Password must be at least 6 characters long")) {
          isValid = false;
        }

        if (isValid) {
          setLoading("loginBtn", true);

          const result = await loginUser(username.value.trim(), password.value);

          setLoading("loginBtn", false);

          if (result.success) {
            // Save user data and show profile instead of redirecting
            saveUserData(result.data);
            showSuccess("loginSuccess", "Login successful!");
          } else {
            showError("loginPasswordError", result.message);
          }
        }
      });

      // ================ Register form handling =======================
      document.getElementById("registerForm").addEventListener("submit", async function (e) {
        e.preventDefault();

        const username = document.getElementById("registerUsername");
        const firstname = document.getElementById("registerFirstname");
        const lastname = document.getElementById("registerLastname");
        const email = document.getElementById("registerEmail");
        const password = document.getElementById("registerPassword");
        const usernameError = document.getElementById("registerUsernameError");
        const emailError = document.getElementById("registerEmailError");
        const passwordError = document.getElementById("registerPasswordError");

        // Clear previous messages
        clearMessages();

        let isValid = true;

        // Validate username
        if (!validateField(username, usernameError, isValidUsername, "Username must be at least 3 characters long")) {
          isValid = false;
        }

        // Validate email
        if (!validateField(email, emailError, isValidEmail, "Please enter a valid email address")) {
          isValid = false;
        }

        // Validate password
        if (!validateField(password, passwordError, isValidPassword, "Password must be at least 6 characters long")) {
          isValid = false;
        }

        if (isValid) {
          setLoading("registerBtn", true);

          const result = await registerUser(
            username.value.trim(),
            firstname.value.trim(),
            lastname.value.trim(),
            email.value.trim(),
            password.value
          );

          setLoading("registerBtn", false);

          if (result.success) {
            showSuccess("registerSuccess", "Registration successful! You can now login.");

            // Clear form
            username.value = "";
            firstname.value = "";
            lastname.value = "";
            email.value = "";
            password.value = "";

            // Switch to login form after 2 seconds
            setTimeout(() => {
              container.classList.remove("active");
              clearMessages();
            }, 2000);
          } else {
            showError("registerUsernameError", result.message);
          }
        }
      });

      // ================ Logout handling =======================
      document.getElementById("logoutBtn").addEventListener("click", function() {
        clearUserData();
      });

      // ================ Real-time validation =======================
      document.getElementById("loginUsername").addEventListener("blur", function () {
        const usernameError = document.getElementById("loginUsernameError");
        validateField(this, usernameError, isValidUsername, "Username must be at least 3 characters long");
      });

      document.getElementById("loginPassword").addEventListener("blur", function () {
        const passwordError = document.getElementById("loginPasswordError");
        validateField(this, passwordError, isValidPassword, "Password must be at least 6 characters long");
      });

      document.getElementById("registerUsername").addEventListener("blur", function () {
        const usernameError = document.getElementById("registerUsernameError");
        validateField(this, usernameError, isValidUsername, "Username must be at least 3 characters long");
      });

      document.getElementById("registerEmail").addEventListener("blur", function () {
        const emailError = document.getElementById("registerEmailError");
        validateField(this, emailError, isValidEmail, "Please enter a valid email address");
      });

      document.getElementById("registerPassword").addEventListener("blur", function () {
        const passwordError = document.getElementById("registerPasswordError");
        validateField(this, passwordError, isValidPassword, "Password must be at least 6 characters long");
      });
    </script>
  </body>
</html>